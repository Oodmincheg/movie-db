{"version":3,"sources":["actions.js","actionsAndReducers.js","reducer.js","store.js","AddWatchListButton.js","Recomendations.js","MoviePage.js","WatchList.js","ScrollComponent.jsx","MovieCard.js","PopularMovies.js","App.js","index.js"],"names":["SET_SEARCH_STRING","ADD_ALL_GENRES","ADD_RECOMENDATIONS","ADD_MOVIE_DETAILS","ADD_POPULAR_MOVIES","getAPIPopularMovies","page","console","log","urlPopularMovies","dispatch","fetch","then","res","json","data","movies","results","type","payload","error","getAPIGenres","getAPIRecomendations","id","urlRecomendation","concat","getMovieDetails","url","rootReducer","combineReducers","searchString","state","arguments","length","undefined","action","allGenres","genres","recomendations","movieDetails","popularMovies","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","thunk","Button","styled","button","_templateObject","WatchListButton","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","localStorage","getItem","watchlist","JSON","parse","setState","inWatchList","Boolean","setItem","addEventListener","moveToLocalStorage","title","stringify","componentWillUnmount","removeEventListener","componentCleanup","deleteFromWatchList","bind","assertThisInitialized","addToWatchList","react_default","a","createElement","onClick","React","Component","Recomendations","map","movie","original_title","join","connect","ownProps","Wrapper","div","MoviePage_templateObject","H1","h1","_templateObject2","Content","_templateObject3","MoviePage","getOwnPropertyNames","Link","to","src","poster_path","alt","overview","genre","name","src_Recomendations","AddWatchListButton","Wraper","WatchList_templateObject","LI","li","WatchList_templateObject2","WatchList","watchList","_this2","keys","key","ScrollButton","intervalId","pageYOffset","clearInterval","scroll","scrollStepInPx","setInterval","scrollStep","delayInMs","document","body","scrollTop","documentElement","className","scrollToTop","MovieCard_templateObject","Image","img","MovieCard_templateObject2","Genre","MovieCard_templateObject3","H2","h2","_templateObject4","MovieCard","_props$movie","genre_ids","imgSrc","MovieCard_Wrapper","style","textDecoration","filter","includes","Gallery","PopularMovies_templateObject","Header","header","PopularMovies_templateObject2","PopularMovies","fetchMorePopularMovies","placeholder","value","onChange","handleSearch","ScrollComponent","lib_default","dataLength","next","hasMore","toUpperCase","src_MovieCard","event","target","App","HashRouter","es","Route","exact","path","render","src_PopularMovies","src_MoviePage","match","params","component","ReactDOM","src_App","getElementById"],"mappings":"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","file":"static/js/main.3b771560.chunk.js","sourcesContent":["export const SET_SEARCH_STRING = \"SET_SEARCH_STRING\";\r\nexport const ADD_ALL_GENRES = \"ADD_ALL_GENRES\";\r\nexport const ADD_RECOMENDATIONS = \"ADD_RECOMENDATIONS\";\r\nexport const ADD_MOVIE_DETAILS = \"ADD_MOVIE_DETAILS\";\r\nexport const ADD_POPULAR_MOVIES = \"ADD_POPULAR_MOVIES\";\r\n","import {\r\n  SET_SEARCH_STRING,\r\n  ADD_ALL_GENRES,\r\n  ADD_RECOMENDATIONS,\r\n  ADD_MOVIE_DETAILS,\r\n  ADD_POPULAR_MOVIES\r\n} from \"./actions\";\r\n//reducers\r\nexport const searchString = (state = \"\", action) => {\r\n  if (action.type === SET_SEARCH_STRING) {\r\n    return action.payload;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const allGenres = (state = [], action) => {\r\n  if (action.type === ADD_ALL_GENRES) {\r\n    return action.payload.genres;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const recomendations = (state = [], action) => {\r\n  if (action.type === ADD_RECOMENDATIONS) {\r\n    return action.payload.results;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const movieDetails = (state = {}, action) => {\r\n  if (action.type === ADD_MOVIE_DETAILS) {\r\n    return action.payload;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const popularMovies = (state = [], action) => {\r\n  if (action.type === ADD_POPULAR_MOVIES) {\r\n    return state.concat(action.payload);\r\n  }\r\n  return state;\r\n};\r\nexport const page = (state = 1, action) => {\r\n  console.log(\"AAAAAA\");\r\n  if (action.type === ADD_POPULAR_MOVIES) {\r\n    return state + 1;\r\n  }\r\n  return state;\r\n};\r\n\r\n//actions\r\nexport function setSearchString(searchString) {\r\n  return { type: SET_SEARCH_STRING, payload: searchString };\r\n}\r\n\r\nexport function addAllGenres(allGenres) {\r\n  return { type: ADD_ALL_GENRES, payload: allGenres };\r\n}\r\n\r\nexport function addRecomendations(recomendations) {\r\n  return { type: ADD_RECOMENDATIONS, payload: recomendations };\r\n}\r\n\r\nexport function addMovieDetails(movieDetails) {\r\n  return { type: ADD_MOVIE_DETAILS, payload: movieDetails };\r\n}\r\nexport function addPopularMovies(movies) {\r\n  console.log(\"MOVIES in actionCreator\", movies);\r\n  return { type: ADD_POPULAR_MOVIES, payload: movies };\r\n}\r\n\r\nexport function getAPIPopularMovies(page) {\r\n  console.log(\"page in action creator\", page);\r\n  const urlPopularMovies =\r\n    \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=98135c4d3cc392347281f8d007876760&language=en-US&page=\" +\r\n    page;\r\n\r\n  console.log(\"url\", urlPopularMovies);\r\n  return dispatch =>\r\n    fetch(urlPopularMovies)\r\n      .then(res => res.json())\r\n      .then(\r\n        data => {\r\n          dispatch(addPopularMovies(data.results));\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      );\r\n}\r\n\r\nexport function getAPIGenres() {\r\n  const urlGenres =\r\n    \"https://api.themoviedb.org/3/genre/movie/list?api_key=98135c4d3cc392347281f8d007876760&language=en-US\";\r\n\r\n  return dispatch =>\r\n    fetch(urlGenres)\r\n      .then(res => res.json())\r\n      .then(\r\n        data => {\r\n          dispatch(addAllGenres(data));\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      );\r\n}\r\nexport function getAPIRecomendations(id) {\r\n  const urlRecomendation = `https://api.themoviedb.org/3/movie/${id}/recommendations?api_key=98135c4d3cc392347281f8d007876760&language=en-US&page=1`;\r\n  return dispatch =>\r\n    fetch(urlRecomendation)\r\n      .then(res => res.json())\r\n      .then(\r\n        data => {\r\n          dispatch(addRecomendations(data));\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      );\r\n}\r\n\r\nexport function getMovieDetails(id) {\r\n  //prettier-ignore\r\n  const url = `https://api.themoviedb.org/3/movie/${id}?api_key=98135c4d3cc392347281f8d007876760&language=en-US`;\r\n  return dispatch =>\r\n    fetch(url)\r\n      .then(res => res.json())\r\n      .then(\r\n        data => {\r\n          dispatch(addMovieDetails(data));\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      );\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport {\r\n  searchString,\r\n  allGenres,\r\n  recomendations,\r\n  movieDetails,\r\n  popularMovies,\r\n  page\r\n} from \"./actionsAndReducers\";\r\n\r\nconst rootReducer = combineReducers({\r\n  searchString,\r\n  allGenres,\r\n  recomendations,\r\n  movieDetails,\r\n  popularMovies,\r\n  page\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, compose, applyMiddleware } from \"redux\";\r\nimport reducer from \"./reducer\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducer,\r\n  /* preloadedState, */ composeEnhancers(applyMiddleware(thunk))\r\n);\r\n//const store = createStore(reducer, compose(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n//\r\nconst Button = styled.button`\r\n  font-family: 'Inconsolata', monospace;\r\n  border: 2px solid lightblue;\r\n`;\r\nclass WatchListButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      inWatchList: false\r\n    };\r\n    this.deleteFromWatchList = this.deleteFromWatchList.bind(this);\r\n    this.moveToLocalStorage = this.moveToLocalStorage.bind(this);\r\n    this.addToWatchList = this.addToWatchList.bind(this);\r\n  }\r\n  componentDidMount = () => {\r\n    if (localStorage.getItem('watchlist')) {\r\n      let watchlist = JSON.parse(localStorage.getItem('watchlist'));\r\n      this.setState({ watchlist });\r\n      this.setState({ inWatchList: Boolean(this.props.id in watchlist) });\r\n    } else {\r\n      localStorage.setItem('watchlist', '{}');\r\n    }\r\n    window.addEventListener('beforeunload', this.moveToLocalStorage);\r\n  };\r\n  moveToLocalStorage = () => {\r\n    let watchlist = JSON.parse(localStorage.getItem('watchlist'));\r\n    if (this.state.inWatchList && !(this.props.id in watchlist)) {\r\n      watchlist[this.props.id] = this.props.title;\r\n    }\r\n    if (!this.state.inWatchList && this.props.id in watchlist) {\r\n      delete watchlist[this.props.id];\r\n    }\r\n    localStorage.setItem('watchlist', JSON.stringify(watchlist));\r\n  };\r\n  componentWillUnmount = () => {\r\n    this.moveToLocalStorage();\r\n    window.removeEventListener('beforeunload', this.componentCleanup);\r\n  };\r\n  deleteFromWatchList() {\r\n    this.setState({ inWatchList: false });\r\n  }\r\n  addToWatchList() {\r\n    this.setState({ inWatchList: true });\r\n  }\r\n  render() {\r\n    if (this.state.inWatchList) {\r\n      return (\r\n        <Button onClick={this.deleteFromWatchList}>\r\n          Delete from watchlist\r\n        </Button>\r\n      );\r\n    } else {\r\n      return <Button onClick={this.addToWatchList}>Add to watch list</Button>;\r\n    }\r\n  }\r\n}\r\n\r\nexport default WatchListButton;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAPIRecomendations } from './actionsAndReducers';\r\n\r\nclass Recomendations extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getAPIRecomendations();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3>Recomendations:</h3>\r\n        {this.props.recomendations\r\n          .map(movie => movie.original_title)\r\n          .join(', ')}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  recomendations: state.recomendations\r\n});\r\nconst mapDispatchToProps = (dispatch, ownProps) => ({\r\n  getAPIRecomendations() {\r\n    console.log('here recomendations', ownProps);\r\n    dispatch(getAPIRecomendations(ownProps.id));\r\n  }\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Recomendations);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport WatchListButton from './AddWatchListButton';\r\nimport Recomendations from './Recomendations';\r\nimport { connect } from 'react-redux';\r\nimport { getMovieDetails } from './actionsAndReducers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Wrapper = styled.div`\r\n  border: 2px solid lightblue;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  max-width: 1100px;\r\n  margin: 50px auto;\r\n  font-family: 'Inconsolata', monospace;\r\n`;\r\nconst H1 = styled.h1`\r\n  margin-top: 0;\r\n  border-bottom: 2px solid lightblue;\r\n  color: darkblue;\r\n  & a {\r\n    font-size: 12px;\r\n    margin-left: 5px;\r\n  }\r\n`;\r\nconst Content = styled.div`\r\n  font-style: italic;\r\n  display: flex;\r\n  & h3,\r\n  & p {\r\n    margin: 0;\r\n  }\r\n  & div,\r\n  & button {\r\n    margin: 20px 0 30px 20px;\r\n  }\r\n  & button {\r\n    font-size: 18px;\r\n  }\r\n`;\r\n\r\nclass MoviePage extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getMovieDetails();\r\n  }\r\n  render() {\r\n    if (Object.getOwnPropertyNames(this.props.movieDetails).length === 0) {\r\n      return <h1>Loading...</h1>;\r\n    } else {\r\n      return (\r\n        <Wrapper>\r\n          {/*prettier-ignore*/}\r\n          <H1>{this.props.movieDetails.title}<Link to='/'>(main page)</Link></H1>\r\n          <Content>\r\n            <aside>\r\n              <img\r\n                src={`https://image.tmdb.org/t/p/w300/${\r\n                  this.props.movieDetails.poster_path\r\n                }`}\r\n                alt={`${this.props.movieDetails.title} poster`}\r\n              />\r\n            </aside>\r\n            <content>\r\n              <div>\r\n                <h3>Overview:</h3>\r\n                <p>{this.props.movieDetails.overview}</p>\r\n              </div>\r\n              <div>\r\n                <h3>Genre:</h3>\r\n                <p>\r\n                  {this.props.movieDetails.genres\r\n                    .map(genre => genre.name)\r\n                    .join(', ')}\r\n                </p>\r\n              </div>\r\n              <Recomendations id={this.props.movieDetails.id} />\r\n              <WatchListButton\r\n                id={this.props.movieDetails.id}\r\n                title={this.props.movieDetails.title}\r\n              />\r\n            </content>\r\n          </Content>\r\n        </Wrapper>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  movieDetails: state.movieDetails\r\n});\r\nconst mapDispatchToProps = (dispatch, ownProps) => ({\r\n  getMovieDetails() {\r\n    dispatch(getMovieDetails(ownProps.id));\r\n  }\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MoviePage);\r\n","import React from 'react';\r\nimport WatchListButton from './AddWatchListButton';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Wraper = styled.div`\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  border-radius: 5px;\r\n  border: 2px lightblue solid;\r\n  margin: 0 auto;\r\n  max-width: 22%;\r\n  & h2 {\r\n    color: darkblue;\r\n    & a {\r\n      font-size: 12px;\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n`;\r\nconst LI = styled.li`\r\n  color: darkblue;\r\n  margin: 10px auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\nclass WatchList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      watchList: {}\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let watchList = JSON.parse(localStorage.getItem('watchlist'));\r\n    this.setState({ watchList });\r\n    console.log(this.state.watchList);\r\n  }\r\n  render() {\r\n    if (JSON.stringify(this.state.watchList) == '{}') {\r\n      return (\r\n        <Wraper>\r\n          <h2>\r\n            Watch list is empty<Link to=\"/\">(main page)</Link>\r\n          </h2>\r\n        </Wraper>\r\n      );\r\n    } else {\r\n      return (\r\n        <Wraper>\r\n          <h2>\r\n            Watch list\r\n            <Link to=\"/\">(main page)</Link>\r\n          </h2>\r\n          <ul>\r\n            {Object.keys(this.state.watchList).map(id => (\r\n              <LI key={id}>\r\n                {this.state.watchList[id]}{' '}\r\n                <WatchListButton id={id} title={this.state.watchList.id} />{' '}\r\n              </LI>\r\n            ))}\r\n          </ul>\r\n        </Wraper>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default WatchList;\r\n","import React from 'react';\r\nimport './scrollButton.css';\r\n\r\nclass ScrollButton extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      intervalId: 0\r\n    };\r\n  }\r\n\r\n  scrollStep() {\r\n    if (window.pageYOffset === 0) {\r\n      clearInterval(this.state.intervalId);\r\n    }\r\n    window.scroll(0, window.pageYOffset - this.props.scrollStepInPx);\r\n  }\r\n\r\n  scrollToTop() {\r\n    let intervalId = setInterval(\r\n      this.scrollStep.bind(this),\r\n      this.props.delayInMs\r\n    );\r\n    this.setState({ intervalId: intervalId });\r\n  }\r\n\r\n  render() {\r\n    if (\r\n      document.body.scrollTop > 20 ||\r\n      document.documentElement.scrollTop > 20\r\n    ) {\r\n      return (\r\n        <button\r\n          title=\"Back to top\"\r\n          className=\"scroll\"\r\n          onClick={() => {\r\n            this.scrollToTop();\r\n          }}\r\n        >\r\n          <span className=\"arrow-up\">^</span>\r\n        </button>\r\n      );\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n}\r\n\r\nexport default ScrollButton;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport WatchListButton from './AddWatchListButton';\r\n\r\nconst Wrapper = styled.div`\r\n  font-family: 'Inconsolata', monospace;\r\n  min-width: 30%;\r\n  max-width: 350px;\r\n  flex-grow: 1;\r\n  margin: 0 5px 20px 5px;\r\n  border: 2px solid lightblue;\r\n  border-radius: 4px;\r\n  text-align: center;\r\n  font-style: italic;\r\n`;\r\nconst Image = styled.img`\r\n  border: 2px solid lightblue;\r\n  float: left;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst Genre = styled.div`\r\n  &:before {\r\n    content: 'Genre: ';\r\n    font-weight: bold;\r\n    color: darkblue;\r\n  }\r\n  margin: 30px auto;\r\n`;\r\n\r\nconst H2 = styled.h2`\r\n  color: darkblue;\r\n  &:visited {\r\n    color: blue;\r\n  }\r\n  text-decoration: none;\r\n`;\r\nconst MovieCard = props => {\r\n  const { id, title, genre_ids } = props.movie;\r\n  const imgSrc = `https://image.tmdb.org/t/p/w154/${props.movie.poster_path}`;\r\n  return (\r\n    <Wrapper className=\"movie-card\">\r\n      <Image src={imgSrc} alt={title} />\r\n      <Link to={`/movie/${id}`} style={{ textDecoration: 'none' }}>\r\n        <H2>{title}</H2>\r\n      </Link>\r\n\r\n      <Genre>\r\n        {props.allGenres\r\n          .filter(genre => genre_ids.includes(genre.id))\r\n          .map(genre => genre.name)\r\n          .join(', ')}\r\n      </Genre>\r\n      <WatchListButton id={id} title={title} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MovieCard;\r\n","import React from 'react';\r\nimport Scroll from './ScrollComponent';\r\nimport styled from 'styled-components';\r\nimport MovieCard from './MovieCard';\r\nimport { Link } from 'react-router-dom';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  getAPIGenres,\r\n  setSearchString,\r\n  getAPIPopularMovies\r\n} from './actionsAndReducers';\r\n\r\nconst Gallery = styled.div`\r\n  max-width: 1300px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\nconst Header = styled.header`\r\n  & h1 {\r\n    font-size: 50px;\r\n    color: darkblue;\r\n  }\r\n  text-align: center;\r\n  font-family: 'Inconsolata', monospace;\r\n  margin: 20px auto;\r\n  max-width: 1200px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  @media (max-width: 700px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nclass PopularMovies extends React.Component {\r\n  fetchMorePopularMovies = this.fetchMorePopularMovies.bind(this);\r\n\r\n  fetchMorePopularMovies() {\r\n    this.props.getAPIPopularMovies(this.props.page);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.allGenres.length) return;\r\n    this.fetchMorePopularMovies();\r\n    this.props.getAPIGenres();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.allGenres.length) {\r\n      return <h2>Loading...</h2>;\r\n    } else {\r\n      return (\r\n        <div className=\"content\">\r\n          <Header>\r\n            <Link to=\"/watchlist\">Watch list</Link>\r\n            <h1>Popular Movies</h1>\r\n            <div>\r\n              <span>Search:</span>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"type title...\"\r\n                value={this.props.searchString}\r\n                onChange={this.props.handleSearch}\r\n              />\r\n            </div>\r\n          </Header>\r\n          <Scroll scrollStepInPx=\"50\" delayInMs=\"16.66\" />\r\n          <InfiniteScroll\r\n            dataLength={this.props.popularMovies.length}\r\n            next={this.fetchMorePopularMovies}\r\n            hasMore={true}\r\n            //loader={<h4>Loading...</h4>}\r\n          >\r\n            <Gallery>\r\n              {this.props.popularMovies\r\n                .filter(movie =>\r\n                  movie.title\r\n                    .toUpperCase()\r\n                    .includes(this.props.searchString.toUpperCase())\r\n                )\r\n                .map(movie => (\r\n                  <MovieCard\r\n                    key={movie.id}\r\n                    allGenres={this.props.allGenres}\r\n                    movie={movie}\r\n                  />\r\n                ))}\r\n            </Gallery>\r\n          </InfiniteScroll>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  console.log('movies!!!', state.popularMovies);\r\n  return {\r\n    searchString: state.searchString,\r\n    allGenres: state.allGenres,\r\n    popularMovies: state.popularMovies,\r\n    page: state.page\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleSearch(event) {\r\n    dispatch(setSearchString(event.target.value));\r\n  },\r\n  getAPIGenres() {\r\n    dispatch(getAPIGenres());\r\n  },\r\n  getAPIPopularMovies(page) {\r\n    dispatch(getAPIPopularMovies(page));\r\n  }\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PopularMovies);\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\nimport store from \"./store\";\r\nimport MoviePage from \"./MoviePage\";\r\nimport WatchList from \"./WatchList\";\r\nimport PopularMovies from \"./PopularMovies\";\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n        <Provider store={store}>\r\n          <div>\r\n            <Route exact path=\"/\" render={() => <PopularMovies />} />\r\n            <Route\r\n              exact\r\n              path=\"/movie/:id\"\r\n              render={props => <MoviePage id={props.match.params.id} />}\r\n            />\r\n            <Route exact path=\"/watchlist\" component={WatchList} />\r\n          </div>\r\n        </Provider>\r\n      </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}