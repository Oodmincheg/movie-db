{"version":3,"sources":["actions.js","actionsAndReducers.js","reducer.js","store.js","AddWatchListButton.js","Recomendations.js","MoviePage.js","WatchList.js","MovieCard.js","PopularMovies.js","App.js","index.js"],"names":["SET_SEARCH_STRING","ADD_ALL_GENRES","ADD_RECOMENDATIONS","ADD_MOVIE_DETAILS","ADD_POPULAR_MOVIES","getAPIPopularMovies","page","console","log","urlPopularMovies","dispatch","fetch","then","res","json","data","movies","results","type","payload","error","getAPIGenres","getAPIRecomendations","id","urlRecomendation","concat","getMovieDetails","url","rootReducer","combineReducers","searchString","state","arguments","length","undefined","action","allGenres","genres","recomendations","movieDetails","popularMovies","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","thunk","WatchListButton","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","localStorage","getItem","watchlist","JSON","parse","setState","inWatchList","Boolean","setItem","addEventListener","moveToLocalStorage","title","stringify","componentWillUnmount","removeEventListener","componentCleanup","deleteFromWatchList","bind","assertThisInitialized","addToWatchList","react_default","a","createElement","onClick","React","Component","Recomendations","map","movie","original_title","join","connect","ownProps","Content","styled","div","_templateObject","MoviePage","getOwnPropertyNames","src","poster_path","alt","overview","genre","name","src_Recomendations","AddWatchListButton","WatchList","watchList","_this2","keys","key","Wrapper","MovieCard_templateObject","Image","img","_templateObject2","MovieCard","_props$movie","genre_ids","imgSrc","className","Link","to","filter","includes","Gallery","PopularMovies_templateObject","Header","header","PopularMovies_templateObject2","PopularMovies","fetchMorePopularMovies","placeholder","value","onChange","handleSearch","lib_default","dataLength","next","hasMore","toUpperCase","src_MovieCard","event","target","App","HashRouter","es","Route","exact","path","render","src_PopularMovies","src_MoviePage","match","params","component","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8c48fc77.chunk.js","sourcesContent":["export const SET_SEARCH_STRING = \"SET_SEARCH_STRING\";\r\nexport const ADD_ALL_GENRES = \"ADD_ALL_GENRES\";\r\nexport const ADD_RECOMENDATIONS = \"ADD_RECOMENDATIONS\";\r\nexport const ADD_MOVIE_DETAILS = \"ADD_MOVIE_DETAILS\";\r\nexport const ADD_POPULAR_MOVIES = \"ADD_POPULAR_MOVIES\";\r\n","import {\r\n  SET_SEARCH_STRING,\r\n  ADD_ALL_GENRES,\r\n  ADD_RECOMENDATIONS,\r\n  ADD_MOVIE_DETAILS,\r\n  ADD_POPULAR_MOVIES\r\n} from \"./actions\";\r\n//reducers\r\nexport const searchString = (state = \"\", action) => {\r\n  if (action.type === SET_SEARCH_STRING) {\r\n    return action.payload;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const allGenres = (state = [], action) => {\r\n  if (action.type === ADD_ALL_GENRES) {\r\n    return action.payload.genres;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const recomendations = (state = [], action) => {\r\n  if (action.type === ADD_RECOMENDATIONS) {\r\n    return action.payload.results;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const movieDetails = (state = {}, action) => {\r\n  if (action.type === ADD_MOVIE_DETAILS) {\r\n    return action.payload;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const popularMovies = (state = [], action) => {\r\n  if (action.type === ADD_POPULAR_MOVIES) {\r\n    return state.concat(action.payload);\r\n  }\r\n  return state;\r\n};\r\nexport const page = (state = 1, action) => {\r\n  console.log(\"AAAAAA\");\r\n  if (action.type === ADD_POPULAR_MOVIES) {\r\n    return state + 1;\r\n  }\r\n  return state;\r\n};\r\n\r\n//actions\r\nexport function setSearchString(searchString) {\r\n  return { type: SET_SEARCH_STRING, payload: searchString };\r\n}\r\n\r\nexport function addAllGenres(allGenres) {\r\n  return { type: ADD_ALL_GENRES, payload: allGenres };\r\n}\r\n\r\nexport function addRecomendations(recomendations) {\r\n  return { type: ADD_RECOMENDATIONS, payload: recomendations };\r\n}\r\n\r\nexport function addMovieDetails(movieDetails) {\r\n  return { type: ADD_MOVIE_DETAILS, payload: movieDetails };\r\n}\r\nexport function addPopularMovies(movies) {\r\n  console.log(\"MOVIES in actionCreator\", movies);\r\n  return { type: ADD_POPULAR_MOVIES, payload: movies };\r\n}\r\n\r\nexport function getAPIPopularMovies(page) {\r\n  console.log(\"page in action creator\", page);\r\n  const urlPopularMovies =\r\n    \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=98135c4d3cc392347281f8d007876760&language=en-US&page=\" +\r\n    page;\r\n\r\n  console.log(\"url\", urlPopularMovies);\r\n  return dispatch =>\r\n    fetch(urlPopularMovies)\r\n      .then(res => res.json())\r\n      .then(\r\n        data => {\r\n          dispatch(addPopularMovies(data.results));\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      );\r\n}\r\n\r\nexport function getAPIGenres() {\r\n  const urlGenres =\r\n    \"https://api.themoviedb.org/3/genre/movie/list?api_key=98135c4d3cc392347281f8d007876760&language=en-US\";\r\n\r\n  return dispatch =>\r\n    fetch(urlGenres)\r\n      .then(res => res.json())\r\n      .then(\r\n        data => {\r\n          dispatch(addAllGenres(data));\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      );\r\n}\r\nexport function getAPIRecomendations(id) {\r\n  const urlRecomendation = `https://api.themoviedb.org/3/movie/${id}/recommendations?api_key=98135c4d3cc392347281f8d007876760&language=en-US&page=1`;\r\n  return dispatch =>\r\n    fetch(urlRecomendation)\r\n      .then(res => res.json())\r\n      .then(\r\n        data => {\r\n          dispatch(addRecomendations(data));\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      );\r\n}\r\n\r\nexport function getMovieDetails(id) {\r\n  //prettier-ignore\r\n  const url = `https://api.themoviedb.org/3/movie/${id}?api_key=98135c4d3cc392347281f8d007876760&language=en-US`;\r\n  return dispatch =>\r\n    fetch(url)\r\n      .then(res => res.json())\r\n      .then(\r\n        data => {\r\n          dispatch(addMovieDetails(data));\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      );\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport {\r\n  searchString,\r\n  allGenres,\r\n  recomendations,\r\n  movieDetails,\r\n  popularMovies,\r\n  page\r\n} from \"./actionsAndReducers\";\r\n\r\nconst rootReducer = combineReducers({\r\n  searchString,\r\n  allGenres,\r\n  recomendations,\r\n  movieDetails,\r\n  popularMovies,\r\n  page\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, compose, applyMiddleware } from \"redux\";\r\nimport reducer from \"./reducer\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducer,\r\n  /* preloadedState, */ composeEnhancers(applyMiddleware(thunk))\r\n);\r\n//const store = createStore(reducer, compose(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\n//\r\nclass WatchListButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      inWatchList: false\r\n    };\r\n    this.deleteFromWatchList = this.deleteFromWatchList.bind(this);\r\n    this.moveToLocalStorage = this.moveToLocalStorage.bind(this);\r\n    this.addToWatchList = this.addToWatchList.bind(this);\r\n  }\r\n  componentDidMount = () => {\r\n    if (localStorage.getItem(\"watchlist\")) {\r\n      let watchlist = JSON.parse(localStorage.getItem(\"watchlist\"));\r\n      this.setState({ watchlist });\r\n      this.setState({ inWatchList: Boolean(this.props.id in watchlist) });\r\n    } else {\r\n      localStorage.setItem(\"watchlist\", \"{}\");\r\n    }\r\n    window.addEventListener(\"beforeunload\", this.moveToLocalStorage);\r\n  };\r\n  moveToLocalStorage = () => {\r\n    let watchlist = JSON.parse(localStorage.getItem(\"watchlist\"));\r\n    if (this.state.inWatchList && !(this.props.id in watchlist)) {\r\n      watchlist[this.props.id] = this.props.title;\r\n    }\r\n    if (!this.state.inWatchList && this.props.id in watchlist) {\r\n      delete watchlist[this.props.id];\r\n    }\r\n    localStorage.setItem(\"watchlist\", JSON.stringify(watchlist));\r\n  };\r\n  componentWillUnmount = () => {\r\n    this.moveToLocalStorage();\r\n    window.removeEventListener(\"beforeunload\", this.componentCleanup);\r\n  };\r\n  deleteFromWatchList() {\r\n    this.setState({ inWatchList: false });\r\n  }\r\n  addToWatchList() {\r\n    this.setState({ inWatchList: true });\r\n  }\r\n  render() {\r\n    if (this.state.inWatchList) {\r\n      return (\r\n        <button onClick={this.deleteFromWatchList}>\r\n          Delete from watchlist\r\n        </button>\r\n      );\r\n    } else {\r\n      return <button onClick={this.addToWatchList}>Add to watch list</button>;\r\n    }\r\n  }\r\n}\r\n\r\nexport default WatchListButton;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getAPIRecomendations } from \"./actionsAndReducers\";\r\n\r\nclass Recomendations extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getAPIRecomendations();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section>\r\n        <h3>Recomendations</h3>\r\n        {this.props.recomendations\r\n          .map(movie => movie.original_title)\r\n          .join(\", \")}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  recomendations: state.recomendations\r\n});\r\nconst mapDispatchToProps = (dispatch, ownProps) => ({\r\n  getAPIRecomendations() {\r\n    console.log(\"here recomendations\", ownProps);\r\n    dispatch(getAPIRecomendations(ownProps.id));\r\n  }\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Recomendations);\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport WatchListButton from \"./AddWatchListButton\";\r\nimport Recomendations from \"./Recomendations\";\r\nimport { connect } from \"react-redux\";\r\nimport { getMovieDetails } from \"./actionsAndReducers\";\r\n\r\nconst Content = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nclass MoviePage extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getMovieDetails();\r\n  }\r\n  render() {\r\n    if (Object.getOwnPropertyNames(this.props.movieDetails).length === 0) {\r\n      return <h1>Loading...</h1>;\r\n    } else {\r\n      return (\r\n        <div>\r\n          <header>\r\n            <h1>{this.props.movieDetails.title}</h1>\r\n          </header>\r\n          <Content>\r\n            <aside>\r\n              <img\r\n                src={`https://image.tmdb.org/t/p/w300/${\r\n                  this.props.movieDetails.poster_path\r\n                }`}\r\n                alt={`${this.props.movieDetails.title} poster`}\r\n              />\r\n            </aside>\r\n            <content>\r\n              <section>\r\n                <h3>Overview</h3>\r\n                <p>{this.props.movieDetails.overview}</p>\r\n              </section>\r\n              <section>\r\n                <h3>Genre</h3>\r\n                <p>\r\n                  {this.props.movieDetails.genres\r\n                    .map(genre => genre.name)\r\n                    .join(\", \")}\r\n                </p>\r\n              </section>\r\n              <Recomendations id={this.props.movieDetails.id} />\r\n              <WatchListButton\r\n                id={this.props.movieDetails.id}\r\n                title={this.props.movieDetails.title}\r\n              />\r\n            </content>\r\n          </Content>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  movieDetails: state.movieDetails\r\n});\r\nconst mapDispatchToProps = (dispatch, ownProps) => ({\r\n  getMovieDetails() {\r\n    dispatch(getMovieDetails(ownProps.id));\r\n  }\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MoviePage);\r\n","import React from \"react\";\r\nimport WatchListButton from \"./AddWatchListButton\";\r\n\r\nclass WatchList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      watchList: {}\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let watchList = JSON.parse(localStorage.getItem(\"watchlist\"));\r\n    this.setState({ watchList });\r\n    console.log(this.state.watchList);\r\n  }\r\n  render() {\r\n    if (JSON.stringify(this.state.watchList) == \"{}\") {\r\n      return <h2>Watch list is empty</h2>;\r\n    } else {\r\n      return (\r\n        <ul>\r\n          {Object.keys(this.state.watchList).map(id => (\r\n            <li key={id}>\r\n              {this.state.watchList[id]}{\" \"}\r\n              <WatchListButton id={id} title={this.state.watchList.id} />{\" \"}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default WatchList;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport WatchListButton from \"./AddWatchListButton\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 40%;\r\n  margin: 0 4% 20px 4%;\r\n  border: 2px solid #333;\r\n  border-radius: 4px;\r\n`;\r\nconst Image = styled.img`\r\n  float: left;\r\n`;\r\nconst MovieCard = props => {\r\n  const { id, title, genre_ids } = props.movie;\r\n  const imgSrc = `https://image.tmdb.org/t/p/w154/${props.movie.poster_path}`;\r\n  return (\r\n    <Wrapper className=\"movie-card\">\r\n      <Image src={imgSrc} alt={title} />\r\n      <Link to={`/movie/${id}`}>\r\n        <h2>{title}</h2>\r\n      </Link>\r\n      <WatchListButton id={id} title={title} />\r\n      <p>\r\n        {props.allGenres\r\n          .filter(genre => genre_ids.includes(genre.id))\r\n          .map(genre => genre.name)\r\n          .join(\", \")}\r\n      </p>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MovieCard;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport MovieCard from \"./MovieCard\";\r\nimport { Link } from \"react-router-dom\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getAPIGenres,\r\n  setSearchString,\r\n  getAPIPopularMovies\r\n} from \"./actionsAndReducers\";\r\n\r\nconst Gallery = styled.div`\r\n  max-width: 1100px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\nconst Header = styled.header`\r\n  margin: 0 auto;\r\n  max-width: 1200px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nclass PopularMovies extends React.Component {\r\n  fetchMorePopularMovies = this.fetchMorePopularMovies.bind(this);\r\n\r\n  fetchMorePopularMovies() {\r\n    this.props.getAPIPopularMovies(this.props.page);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.allGenres.length) return;\r\n    this.fetchMorePopularMovies();\r\n    this.props.getAPIGenres();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.allGenres.length) {\r\n      return <h2>Loading...</h2>;\r\n    } else {\r\n      return (\r\n        <div className=\"content\">\r\n          <Header>\r\n            <Link to=\"/watchlist\">Watch list</Link>\r\n            <h1>Movies</h1>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"type title...\"\r\n              value={this.props.searchString}\r\n              onChange={this.props.handleSearch}\r\n            />\r\n          </Header>\r\n          <InfiniteScroll\r\n            dataLength={this.props.popularMovies.length}\r\n            next={this.fetchMorePopularMovies}\r\n            hasMore={true}\r\n            //loader={<h4>Loading...</h4>}\r\n          >\r\n            <Gallery>\r\n              {this.props.popularMovies\r\n                .filter(movie =>\r\n                  movie.title\r\n                    .toUpperCase()\r\n                    .includes(this.props.searchString.toUpperCase())\r\n                )\r\n                .map(movie => (\r\n                  <MovieCard\r\n                    key={movie.id}\r\n                    allGenres={this.props.allGenres}\r\n                    movie={movie}\r\n                  />\r\n                ))}\r\n            </Gallery>\r\n          </InfiniteScroll>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  console.log(\"movies!!!\", state.popularMovies);\r\n  return {\r\n    searchString: state.searchString,\r\n    allGenres: state.allGenres,\r\n    popularMovies: state.popularMovies,\r\n    page: state.page\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleSearch(event) {\r\n    dispatch(setSearchString(event.target.value));\r\n  },\r\n  getAPIGenres() {\r\n    dispatch(getAPIGenres());\r\n  },\r\n  getAPIPopularMovies(page) {\r\n    dispatch(getAPIPopularMovies(page));\r\n  }\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PopularMovies);\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\nimport store from \"./store\";\r\nimport MoviePage from \"./MoviePage\";\r\nimport WatchList from \"./WatchList\";\r\nimport PopularMovies from \"./PopularMovies\";\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n        <Provider store={store}>\r\n          <div>\r\n            <Route exact path=\"/\" render={() => <PopularMovies />} />\r\n            <Route\r\n              exact\r\n              path=\"/movie/:id\"\r\n              render={props => <MoviePage id={props.match.params.id} />}\r\n            />\r\n            <Route exact path=\"/watchlist\" component={WatchList} />\r\n          </div>\r\n        </Provider>\r\n      </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}